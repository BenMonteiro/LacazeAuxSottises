{% extends 'base.html.twig' %}

{% block title %}{{'company.index'|trans({}, 'company')|title}}{% endblock %}

{% block body %}

{% include('_back_menu.html.twig') %}

<div>
    <h1>{{'company.index'|trans({}, 'company')|title}}</h1>
</div>
<table class="table table-sm text-align-center table-striped index text-center mb-5 pb-5">
    <thead>
        <tr>
            <th>Image</th>
            <th>{{'company.name'|trans({}, 'company')|capitalize}}</th>
            <th>{{'company.show.title'|trans({}, 'company')|capitalize}}</th>
            <th>Description</th>
            <th>Theme</th>
            <th>{{'company.show.duration'|trans({}, 'company')|capitalize}}</th>
            <th>{{'company.show.audience'|trans({}, 'company')|capitalize}}</th>
            <th>{{'company.isIn.diffusion'|trans({}, 'company')|capitalize}}</th>
            <th>{{'company.isIn.creation'|trans({}, 'company')|capitalize}}</th>
            <th>{{'general.website'|trans({}, 'general')|capitalize}}</th>
            <th>{{'general.videoLink'|trans({}, 'general')|capitalize}}</th>
            <th>{{'general.more.infos'|trans({}, 'general')|capitalize}}</th>
            <th><a href="{{ path('company_new') }}">{{'general.create'|trans({}, 'general')|capitalize}}</a></th>
        </tr>
    </thead>
    <tbody>
        {% for company in companies %}
        <tr>
            <td><img class="miniImage" src="{{ asset('images/uploads/company/' ~ company.image.name) }}"></td>
            <td>{{ company.name }}</td>
            <td>{{ company.showTitle}}</td>
            <td>{{ company.description|slice(0,100)}}...</td>
            <td>{{ company.theme}}</td>
            <td>{{ company.duration}}</td>
            <td>{{ company.audience}}</td>
            <td>{{ company.isInDiffusion ? '<i class="fas fa-check text-success"></i>' : '<i class="fas fa-times text-danger"></i>' }}
            </td>
            <td>{{ company.isInCreation ? '<i class="fas fa-check text-success"></i>' : '<i class="fas fa-times text-danger"></i>' }}
            </td>
            <td>{{ company.website }}</td>
            <td>{{ company.videoLink }}</td>
            <td>{{ company.moreInfos}}</td>
            <td>
                <a class="badge badge-secondary my-2 p-2"
                    href="{{ path('company_show', {'id': company.id}) }}">{{'general.show'|trans({}, 'general')|capitalize}}</a>
                <a class="badge badge-primary my-2 p-2"
                    href="{{ path('company_edit', {'id': company.id}) }}">{{'general.edit'|trans({}, 'general')|capitalize}}</a>
                {{ include('company/_delete_form.html.twig') }}
            </td>
        </tr>
        {% else %}
        <tr>
            <td colspan="9">{{'general.noRecords'|trans({}, 'general')|capitalize}}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}