{% extends 'base.html.twig' %}

{% block title %}
	{{'partner.index'|trans({},'partners')|title}}
{% endblock %}

{% block flashMessage %}
	<div class="flash-message col-12 text-center bg-white">
		{% for label, messages in app.flashes %}
			{% for message in messages %}
				<div class="flash-{{ label }}">
					{{ message }}
				</div>
			{% endfor %}
		{% endfor %}
	</div>
{% endblock %}
{% block body %}
	<div id="adminPageTitle">
		<h1>{{'partner.index'|trans({},'partners')|title}}</h1>
	</div>

	{% set classDisplay = 'index' %}
	{% if partners|length <= 1  %}
		{% set classDisplay = 'oneElement' %}
	{% endif %}
	<table class="table table-sm {{classDisplay}} table-striped text-center mb-5 pb-5">
		<thead>
			<tr>
				<th>{{'partner.logo'|trans({}, 'partners')|capitalize}}</th>
				<th>{{'partner.name'|trans({}, 'partners')|capitalize}}</th>
				<th>{{'partner.type'|trans({}, 'partners')|capitalize}}</th>
				<th>
					<a href="{{ path('partners_new') }}">{{'general.create'|trans({}, 'general')|capitalize}}</th>
				</th>
			</tr>
		</thead>
		<tbody>
			{% for partner in partners %}
				<tr>
					<td><img class="partnerLogo" src="{{ asset('images/uploads/partnerLogo/' ~ partner.logo.name) }}"></td>
					<td>{{ partner.name }}</td>
					<td>{{ ('partner.' ~ partner.type)|trans({}, 'partners')|capitalize }}</td>
					<td>
						<a class="badge badge-primary my-2 p-2" href="{{ path('partners_edit', {'id': partner.id}) }}">{{'general.edit'|trans({}, 'general')|capitalize}}</a>
						{{ include('admin/partners/_delete_form.html.twig') }}

					</td>
				</tr>
			{% else %}
				<tr>
					<td colspan="8">{{'general.noRecords'|trans({}, 'general')}}</td>
				</tr>
			{% endfor %}
		</tbody>
	</table>
{% endblock %}
